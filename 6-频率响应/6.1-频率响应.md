---
title: é¢‘ç‡å“åº”

---

<!--more-->

$$
\begin{align*}
\newcommand{\dif}{\mathop{}\!\mathrm{d}}
\newcommand{\belowarrow}[1]{\mathop{#1}\limits_{\uparrow}}
\newcommand{\bd}{\boldsymbol}
\newcommand{\tx}{\text}
\newcommand{\L}{\mathscr{L}}
\newcommand{\p}{\partial\,}
\end{align*}
$$

## General Considerations

MOS å™¨ä»¶ä¸­å­˜åœ¨å››ä¸ªç”µå®¹ï¼š$C_{GS},C_{GD},C_{DB},C_{SB}$ï¼Œæ‰€ä»¥åœ¨é«˜é¢‘æ—¶ä¼šå˜å¾—å¾ˆå¤æ‚ã€‚ä¸ºäº†ç®€åŒ–åˆ†æï¼Œéœ€è¦åˆ©ç”¨ Miller's theorem å’Œä¼ è¾“å‡½æ•°ï¼ˆä¿¡å·ä¸ç³»ç»Ÿçš„ç›¸å…³å†…å®¹ï¼‰ã€‚ä¸‹é¢å…ˆæ¥å¤ä¹ ä¸€ä¸‹ï¼š

* $s=1/j\omega$
* é›¶ç‚¹ã€æç‚¹å°±æ˜¯ä¼ è¾“å‡½æ•°åˆ†å­ã€åˆ†æ¯çš„æ ¹
* Bodeå›¾ä¸­ï¼Œæ¯ç»è¿‡ä¸€ä¸ªæç‚¹ï¼Œæ–œç‡ä¼šå¢åŠ  $20 \tx{dB/decade}$ï¼Œæ¯ç»è¿‡ä¸€ä¸ªé›¶ç‚¹ï¼Œæ–œç‡ä¼šå‡å° $20 \tx{dB/decade}$

### Miller Effect

![Figure 6.2 Application of Miller effect to a floating impedance](images/Figure%206.2%20Application%20of%20Miller%20effect%20to%20a%20floating%20impedance.jpg)
**Miller's Theorem**ï¼šFig. 6.2 ä¸­ (a) å’Œ (b) å¯ä»¥äº’æ¢ï¼Œå…¶ä¸­ï¼Œ$Z_1=Z/(1-A_v)$ï¼Œ$Z_2=Z/(1-A_v^{-1})$ï¼Œ$A_v=V_Y/V_X$ï¼Œè¯æ˜å¦‚ä¸‹ï¼š

$$
\frac{V_X-V_Y}{Z}=\frac{V_X}{Z_1}\\
\Rightarrow Z_1 = \frac{Z}{1-\frac{V_Y}{V_X}}\\
æ ¹æ®å¯¹ç§°æ€§ï¼ŒZ_2 çš„è¯æ˜è¿‡ç¨‹ç±»ä¼¼
$$

åˆ©ç”¨è¿™ä¸ªï¼Œå¯ä»¥å°†æµ®ç©ºé˜»æŠ—è½¬åŒ–ä¸ºæ¥åœ°é˜»æŠ—ã€‚

> [!TIP]
> ![Figure 6.3](images/Figure%206.3.jpg)
> [!NOTE]
> $V_X=-A\cdot V_Y$ï¼Œæ ¹æ®å‰é¢çš„å…¬å¼ï¼Œæœ‰ï¼š<br>
> 
> $$
Z_1 = \frac{1/(sC_F)}{1+A}=\frac{1}{(1+A)(sC_F)}\\
Z_2 = \frac{1/(sC_F)}{1+1/A}
$$

æ³¨æ„ï¼Œå¦‚æœé˜»æŠ— $Z$ æ˜¯ $X,Y$ ä¸¤ç‚¹ä¹‹é—´çš„å”¯ä¸€é€šè·¯ï¼Œé‚£ä¹ˆ Miller's theorem ä¸æˆç«‹ã€‚è€ƒè™‘ä¸‹é¢è¿™ä¸ªåˆ†å‹ç”µè·¯ï¼š

![Figure 6.5 Improper application of Millerâ€™s theorem](images/Figure%206.5%20Improper%20application%20of%20Millerâ€™s%20theorem.jpg)
æ³¨æ„åˆ° $V_Y=\frac{R_2}{R_1+R_2} V_X$ï¼Œæ ¹æ®å‰é¢çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç®—å‡º Fig. 6.5(b) çš„æƒ…å†µã€‚æ³¨æ„åˆ°æ­¤æ—¶ $V_X$ çš„è¾“å…¥ç”µé˜»æ˜¯æ­£ç¡®çš„ï¼Œä½†è¾“å‡ºçš„ $V_Y=0$ æ˜¯é”™çš„ã€‚ï¼ˆæ€»ä¹‹ï¼Œå°±æ˜¯ Miller's theorem ä¸èƒ½æ”¹å˜ $V_X,V_Y$ï¼‰

### Association of Poles with Nodes

å›¾ Fig. 6.10 çš„ä¼ è¾“å‡½æ•°ä¸ºï¼š

$$
\frac{V_\tx{out}}{V_\tx{in}}(s)=\frac{A_1}{1+R_SC_\tx{in}s}\cdot\frac{A_2}{1+R_1C_{N}s}\cdot \frac{1}{1+R_SC_{P}s}
$$

![Figure 6.10 Cascade of amplifiers](images/Figure%206.10%20Cascade%20of%20amplifiers.jpg)
æ³¨æ„åˆ°æ¯ä¸ªæç‚¹éƒ½å¯¹åº”ç”µè·¯ç»“ç‚¹ä¸Šçš„ $RC$ çš„ä¹˜ç§¯ï¼Œå³ $\omega_j = \tau_j^{-1}=\dfrac{1}{RC}$ï¼ˆæ­£è´Ÿå·ä¸é‡è¦ï¼Œè€Œä¸”ä¸€èˆ¬éƒ½æ˜¯è´Ÿçš„ï¼‰. From this perspective, we may say that â€œeach node in the circuit contributes one pole to the transfer function.â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å…ˆç®—ç›´æµå¢ç›Šï¼Œå†ä¹˜ä¸Šæç‚¹å³å¯ã€‚

å¦‚æœæœ‰ float impedanceï¼Œå¯ä»¥åˆ©ç”¨ miller's theorem è½¬åŒ–æˆä¸¤ä¸ª gounded impedance.



## Common-Source Stage

![Figure 6.13 High-frequency model of a common-source stage](images/Figure%206.13%20High-frequency%20model%20of%20a%20common-source%20stage.jpg)
Fig. 6.13(a) æ˜¯è€ƒè™‘äº†ç”µå®¹å’Œ $R_S$ çš„å…±æºç”µè·¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Miller's Approximation å°† $C_{GD}$ åˆ†è§£ä¸º Fig. 6.13(b) çš„å½¢å¼ï¼ˆå›¾ä¸­ $A_v = -g_m R_D$ï¼‰ï¼Œä»è€Œï¼Œè¾“å…¥ç«¯çš„æç‚¹ä¸ºï¼š

$$
\omega_\tx{in} = \frac{1}{R_S[C_{GS}+(1+g_m R_D)C_{GD}]}
$$

> å°åæ§½ï¼š$R_S$ å¾ˆå®¹æ˜“è¯¯è®¤ä¸ºæ˜¯æºç«¯ç”µé˜»ï¼Œç”¨ $R_G$ ä¼šä¸ä¼šå¥½ä¸€ç‚¹ï¼Ÿ

è€Œè¾“å‡ºç«¯çš„æç‚¹ä¸ºï¼š

$$
\begin{aligned}
  \omega_\tx{out} &= \frac{1}{R_D[C_{DB}+(1-A_v^{-1})C_{GD}]}\\
  &\approx \frac{1}{R_D(C_{DB}+C_{GD})}
\end{aligned}
$$

> [!TIP]
> ä¹¦ä¸­æåˆ°äº†å¦ä¸€ç§è®¡ç®— $\omega_\tx{out}$ çš„æ–¹æ³•ã€‚å¦‚æœ $R_{S}$ å¾ˆå¤§ï¼Œæˆ‘ä»¬å¯ä»¥å°† $R_S$ è§†ä¸ºæ–­è·¯ï¼Œå¹¶å¾—åˆ°å¦‚ä¸‹ç”µè·¯å›¾ï¼š
> 
> <center><img alt="Figure 6.14 Model for calculation of output impedance" title="Figure 6.14 Model for calculation of output impedance" src="images/Figure%206.14%20Model%20for%20calculation%20of%20output%20impedance.png" width="400"></center><br>
> 
> è¯·è¯æ˜ï¼š<br>
> 
> $$
Z_X = \frac{1}{C_\tx{eq}s} \Big\Vert \left( \frac{C_{GD}+C_{GS}}{C_{GD}} \cdot \frac{1}{g_{m1}} \right)\\
C_\tx{eq} = \frac{C_{GD}C_{GS}}{C_{GD}+C_{GS}}
$$

> [!NOTE]
> å‡è®¾åœ¨ $V_X$ å¤„çš„ç”µå‹ä¸º $U_X$ï¼Œé‚£ä¹ˆï¼Œ$C_{GS}$ å¤„çš„ç”µå‹ä¸º $U_X \cdot \frac{C_{GD}}{C_{GD}+C_{GS}}$ï¼ˆç±»ä¼¼äºç”µé˜»å¹¶è”æ±‚ç”µæµï¼‰ï¼Œä»è€Œ $I_D=g_{m1} \cdot U_X \frac{C_{GD}}{C_{GD}+C_{GS}}$ï¼Œæ±‚å‡º DS çš„ç­‰æ•ˆç”µé˜»ä¸ºï¼š<br>
> 
> $$
\frac{U_X}{I_D} = \frac{C_{GD}+C_{GS}}{C_{GD}} \cdot \frac{1}{g_{m1}}
$$<br>
> 
> è€Œ $C_\tx{eq}$ å®é™…ä¸Šå°±æ˜¯ $C_{GS}$ ä¸ $C_{GD}$ çš„å¹¶è”å€¼ã€‚æŠŠ $C_\tx{eq}$ å’Œ $R_\tx{eq}$ å°±å¾—åˆ°äº† $Z_X$<br>
> 
> æˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥å†™å‡ºå¯¹åº”çš„è¾“å‡ºæç‚¹ï¼š<br>
> 
> $$
\omega_\tx{out} = \frac{1}{\left[ R_D \Big\Vert \left( \frac{C_{GD}+C_{GS}}{C_{GD}}\cdot \frac{1}{g_{m1}} \right) \right](C_\tx{eq}+C_{DB})}
$$

ä»è€Œä¼ è¾“å‡½æ•°ä¸ºï¼š

$$
\frac{V_\tx{out}}{V_\tx{out}}(s) = \frac{-g_m R_D}{(1+\dfrac{s}{\omega_\tx{in}})(1+\dfrac{s}{\omega_\tx{out}})}
$$

ä½†ä¸Šé¢åˆ†æå¹¶ä¸ä¸¥è°¨ï¼Œæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘é›¶ç‚¹ï¼Œä¹Ÿæ²¡è€ƒè™‘å¢ç›Šéšé¢‘ç‡çš„å˜åŒ–ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨å°ä¿¡å·æ¨¡å‹æ¥åˆ†æï¼š

![Figure 6.15 Equivalent circuit of Fig. 6.13](images/Figure%206.15%20Equivalent%20circuit%20of%20Fig.%206.13.jpg)

å†™å‡º s åŸŸçš„ç”µæµæ–¹ç¨‹ï¼ˆè¾“å…¥ã€è¾“å‡ºç«¯ï¼‰ï¼š

$$
\begin{aligned}
  \frac{V_X - V_\tx{in}}{R_S}+V_X C_{GS} s + (V_X-V_\tx{out}) C_{GD}s &= 0\\
  (V_\tx{out}-V_X)C_{GD}s + g_m V_X + V_\tx{out}(\frac{1}{R_D}+C_{DB}s)&=0
\end{aligned}
$$

ä»è¾“å‡ºç«¯æ–¹ç¨‹å¯ä»¥å¾—åˆ° $V_X$ï¼š

$$
V_X=-\frac{V_\tx{out}\left( C_{GD}s+\dfrac{1}{R_D}+C_{DB}s \right)}{g_m-C_{GD}s}
$$

æŠŠè¿™ä¸ªä»£å›è¾“å…¥ç«¯æ–¹ç¨‹ï¼Œå¯ä»¥è§£å‡ºï¼š

$$
\frac{V_\tx{out}}{V_\tx{in}}(s) = \frac{(C_{GD}s-g_m)R_D}{R_S R_D \xi s^2+[R_S(1+g_mR_D)C_{GD}+R_SC_{GS}+R_D(C_{GD}+C_{DB})]s+1}\\
\xi = C_{GS}C_{GD}+C_{GS}C_{DB}+C_{GD}C_{DB}
$$

è¿™ä¹ˆé•¿ä¸²å…¬å¼ï¼Œçœ‹ç€éƒ½è§‰å¾—å®³æ€•ã€‚ä¸è¦æ€•ï¼åˆ†æ¯ä¸å°±æ˜¯äºŒé¡¹å¼å˜›ï¼Œåˆ†å­ä¸å°±æ˜¯ä¸€é¡¹å¼å˜›ï¼åªä¸è¿‡ç³»æ•°å¤æ‚ä¸€ç‚¹ã€‚

![ä¸è¦æ€•](http://www.biaoqingb.com/uploads/img1/20200805/ae0782c28fbad3c27b8676aeb56c2bb4.jpg)
æˆ‘ä»¬ä¸€ç‚¹ä¸€ç‚¹æ¥è®²ã€‚é¦–å…ˆï¼Œä¸ºä»€ä¹ˆåˆ†æ¯æ˜¯äºŒé¡¹å¼ï¼ŸæŒ‰é“ç†ï¼Œæœ‰ä¸‰ä¸ªç”µå®¹ï¼Œåº”è¯¥æ˜¯ä¸‰é¡¹å¼ï¼Œä½†ç”±äº $C_{GS}$ã€$C_{GD}$ã€$C_{DB}$ æ„æˆäº†ä¸€ä¸ªç”µå‹å›è·¯ï¼Œå¯¼è‡´å®ƒä»¬ä¸­åªæœ‰ä¸¤ä¸ªæ˜¯ç‹¬ç«‹çš„ï¼Œæ•…è¿™åªæ˜¯äºŒé˜¶ç”µè·¯ã€‚

äºŒé˜¶ç”µè·¯æœ‰ $\omega_{p1}$ å’Œ $\omega_{p2}$ï¼Œä¸ºäº†ç®€åŒ–åˆ†æï¼Œæˆ‘ä»¬å‡è®¾ $\vert \omega_{p1} \vert \ll \vert \omega_{p2} \vert$ï¼Œå…¶ä¸­ $\omega_{p1}$ å³ä¸»æç‚¹ï¼ˆæ²¡å­¦è¿‡è‡ªæ§çš„åŒå­¦è‡ªè¡Œè¡¥è¯¾ï¼‰ï¼Œäºæ˜¯åˆ†æ¯å¯ä»¥åŒ–ç®€ä¸ºï¼š

$$
\begin{aligned}
  D &= \left( \frac{s}{\omega_{p1}} +1\right) \left( \frac{s}{\omega_{p2}}+1 \right)\\
  &= \frac{s^2}{\omega_{p1}\omega_{p2}}+\left( \frac{1}{\omega_{p1}}+\frac{1}{\omega_{p2}} \right)s + 1\\
  &\approx \frac{s}{\omega_{p1}\omega_{p2}}+\frac{1}{\omega_{p1}}s+1
\end{aligned}
$$

è¿™ä¹ˆæ¥ï¼Œ$\omega_{p1}^{-1}$ ä¸å°±æ˜¯ä¸€æ¬¡é¡¹çš„ç³»æ•°å˜›ï¼š

$$
\omega_{p1} = \frac{1}{[R_S(1+g_mR_D)C_{GD}+R_SC_{GS}+R_D(C_{GD}+C_{DB})]}
$$

å¯¹æ¯”ä¹‹å‰çš„ $\omega_\tx{in} = \dfrac{1}{R_S[C_{GS}+(1+g_m R_D)C_{GD}]}$ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç° $\omega_{p1}$ å¤šäº†ä¸€é¡¹ $R_D(C_{GD}+C_{DB})$

å¦å¤– $(\omega_{p1}\omega_{p2})^{-1}$ å°±æ˜¯äºŒæ¬¡é¡¹ç³»æ•°ï¼Œæ‰€ä»¥å¯ä»¥æ±‚å‡ºï¼š

$$
\begin{aligned}
  \omega_{p2} &= \frac{1}{\omega_{p1}} \cdot \frac{1}{R_S R_D \xi}\\
  &= \frac{R_S(1+g_mRD)C_{GD}+R_SC_{GS}+R_D(C_{GD}+C_{DB})}{R_S R_D (C_{GS}C_{GD}+C_{GS}C_{DB}+C_{GD}C_{DB})}
\end{aligned}
$$

æˆ‘ä»¬å†æ¥è€ƒè™‘åˆ†å­ï¼Œå¯ä»¥çœ‹å‡ºï¼Œå­˜åœ¨ä¸€ä¸ªé›¶ç‚¹ $\omega_z = + \dfrac{g_m}{C_{GD}}$ã€‚æˆ‘ä»¬å¯ä»¥å¯¹è¯¥é›¶ç‚¹åšä¸€ä¸ªç›´è§‚çš„è§£é‡Šã€‚è€ƒè™‘å›¾ Fig. 6.17ï¼Œä¿¡å·ä» $C_{GD}$ è¿›å…¥è¾“å‡ºï¼Œä¸æ”¾å¤§åçš„ä¿¡å·æ°å¥½æŠµæ¶ˆï¼Œå¯¼è‡´è¾“å‡ºä¸º 0.

![Figure 6.17 Feedforward path through CG D (log-log scale)](images/Figure%206.17%20Feedforward%20path%20through%20CG%20D%20(log-log%20scale).png)
è¿˜è®°å¾—æ¨¡ç”µæ—¶æè¿‡ï¼Œæ™¶ä½“ç®¡æ”¾å¤§å€æ•°ä¸º 0 æ—¶çš„é¢‘ç‡ä¸ºæˆªæ­¢é¢‘ç‡ï¼Œè®°ä¸º $f_T$ã€‚æ ¹æ®ä¸Šé¢åˆ†æï¼Œæˆ‘ä»¬è¿‘ä¼¼è®¤ä¸º $f_T \approx 2\pi \dfrac{g_m}{C_{GD}}$

---

ä¸‹é¢æˆ‘ä»¬æ¥è€ƒè™‘è¾“å…¥é˜»æŠ—ã€‚With Miller's aproximation, we have from Fig. 6.21(a)

$$
Z_\tx{in} = \frac{1}{[C_{GS}+(1+g_mR_D)C_{GD}]s}
$$

![Figure 6.21 Calculation of input impedance of a CS stage](images/Figure%206.21%20Calculation%20of%20input%20impedance%20of%20a%20CS%20stage.png)
è€Œåœ¨é«˜é¢‘æ—¶ï¼Œéœ€è¦è€ƒè™‘è¾“å‡ºç«¯çš„å½±å“ã€‚å…ˆä¸è€ƒè™‘ $C_{GS}$ è¿™è·¯ï¼Œ$C_{GD}$ å’Œ $R_D \Vert (C_{DB}s)^{-1}$ çš„ç”µé˜»ä¸ºï¼ˆFig. 6.21ï¼‰ï¼š

$$
(I_X-g_m V_X) [R_D \Vert (C_{DB}s)^{-1}]+\frac{I_X}{C_{GD}s} = V_X\\
\Rightarrow \frac{V_X}{I_X} = \frac{1+R_D(C_{GD}+C_{DB})s}{C_{GD}s(1+g_m R_D+R_DC_{DB}s)}
$$

ä¸ miller è¿‘ä¼¼çš„ç»“æœç›¸æ¯”ï¼Œåˆ†å­å¤šäº† $R_D (C_{GD}+C_{DB}) s$ï¼Œè€Œåˆ†æ¯å¤šäº† $R_D C_{GD} C_{DB} s^2$ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·è®°å¿†ï¼Œåˆ†å­å°±æ˜¯ä¹‹å‰è¾“å…¥æç‚¹å¤šå‡ºæ¥é‚£ä¸€é¡¹ã€‚è€Œåˆ†æ¯å°±æ˜¯å¤šå‡ºæ¥é‚£å‡ ä¸ªé‡ç›¸ä¹˜ã€‚

æœ€ç»ˆçš„è¾“å…¥ç”µé˜»å°±æ˜¯ $C_{GS}$ å¹¶è”ä¸Šè¿™ç©æ„ã€‚

---

ä¹¦ä¸­å¹¶æ²¡æœ‰è¯´è¾“å‡ºç”µé˜»ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯è®¡ç®—ä¸€ä¸‹ã€‚æ–¹æ³•ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å…ˆä¸è€ƒè™‘ $R_D \Vert (C_{DB}s)^{-1}$ï¼Œé‚£ä¹ˆï¼š

$$
\left(I_X-\frac{1}{g_m} V_X \frac{\dfrac{1}{1/R_S+C_{GS}s}}{\dfrac{1}{1/R_S+C_{GS}s}+\dfrac{1}{C_{GD}s}} \right) \left( \dfrac{1}{1/R_S+C_{GS}s}+\dfrac{1}{C_{GD}s} \right) = V_X
$$

$$
\Rightarrow \frac{V_X}{I_X} = \frac{\dfrac{1}{1/R_S+C_{GS}s}+\dfrac{1}{C_{GD}s}}{\dfrac{1/g_m}{1/R_S+C_{GS}s}+1}\\
=\frac{1+R_S(C_{GS}+C_{GD})s}{C_{GD}s(1+\frac{1}{g_m}R_S+R_S C_{GS}s)}
$$

ï¼ˆæ€ä¹ˆæ„Ÿè§‰å’Œ $V_\tx{in}$ å¾ˆåƒï¼Œæ˜¯å·§åˆå—ï¼Ÿï¼‰

ä»è€Œï¼š

$$
Z_\tx{out} = R_D \big\Vert \frac{1}{C_{DB}s} \big\Vert \frac{1+R_S(C_{GS}+C_{GD})s}{C_{GD}s(1+g_mR_S+R_S C_{GS}s)}
$$

## Source Follower

![Figure 6.22 (a) Source follower; (b) high-frequency equivalent circuit](images/Figure%206.22%20(a)%20Source%20follower;%20(b)%20high-frequency%20equivalent%20circuit.jpg)
We sum the currents at the output node:

$$
V_1 C_{GS} s + g_m V_1 = V_\tx{out} C_L s\\
\Rightarrow V_1 = \frac{C_L s}{g_m + C_{GS}s}V_\tx{out}
$$

Also, the $V_\tx{in}$ equals to the sum of the voltage across $R_S$ to $V_1$ and $V_\tx{out}$

$$
V_\tx{in} = R_S [V_1C_{GS}s+(V_1+V_\tx{out})C_{GD}s]+V_1+V_\tx{out}
$$

Subsituting for $V_1$, we have

$$
\frac{V_\tx{ont}}{V_\tx{in}} (s) = \frac{g_m + C_{GS} s}{R_S(C_{GS}C_L+C_{GS}C_{GD}+C_{GD}C_L)s^2+(g_m R_SC_{GD}+C_L+C_{GS})s+g_m} \tag{6.51}
$$

æ³¨æ„åˆ°ï¼Œthe zero $(-\dfrac{g_m}{C_{GS}})$ is in the left half plane (and near the $f_T$)

ä¸ºäº†ç®€åŒ–åˆ†æï¼Œæˆ‘ä»¬è¿˜æ˜¯å‡è®¾ $\vert\omega_{p1} \vert \ll \vert \omega_{p2}\vert$ï¼Œè¿™ä¹ˆä¸€æ¥ï¼Œæˆ‘ä»¬å°±æœ‰ï¼ˆåˆ†å­ä¸­çš„ $g_m$ æ¥è‡ªäºåˆ†æ¯çš„å¸¸æ•°é¡¹ï¼‰ï¼š

$$
\begin{aligned}
  \omega_{p1} &\approx \frac{g_m}{g_m R_S C_{GD}+C_L+C_{GS}}\\
  &= \frac{1}{R_S C_{GD}+\dfrac{C_L+C_{GS}}{g_m}}
\end{aligned}
$$

If $R_S=0$, then $\omega_{p1}=g_m/(C_L+C_{GS})$ï¼Œè¿™ç¬¦åˆ miller è¿‘ä¼¼çš„ç»“æœã€‚

ï¼ˆç„¶åä¹¦ä¸­å°±æˆ›ç„¶è€Œæ­¢äº†ï¼Œæ²¡æœ‰è®¨è®º $\omega_{p2}$ï¼Œå¯èƒ½æ˜¯å¤ªç®€å•äº†å§ğŸ˜†ï¼‰

æ³¨æ„åˆ° Common Source å’Œ Source Follower å¾ˆç›¸ä¼¼ï¼Œå®ƒä»¬å„ä¸ªå…ƒä»¶éƒ½æ˜¯å¯ä»¥ä¸€ä¸€å¯¹åº”çš„ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œåªä¸è¿‡å¢ç›Šä¸åŒ ï¼Œå› æ­¤å®ƒä»¬çš„é¢‘ç‡å“åº”è¡¨è¾¾å¼æ˜¯ä¸€æ ·çš„ã€‚

![CSä¸CDçš„é¢‘ç‡å“åº”çš„å¯¹æ¯”](images/CSä¸CDçš„é¢‘ç‡å“åº”çš„å¯¹æ¯”.jpg)
---

ä¸‹é¢æ¥è€ƒè™‘è¾“å…¥é˜»æŠ—ã€‚ä¸‹å›¾ä¸­æˆ‘ä»¬ä¸è€ƒè™‘ $C_{GD}$ï¼ˆåæ­£æœ€åå¹¶è”ä¸Šå»å°±è¡Œäº†ï¼‰ï¼Œä½†æˆ‘ä»¬è€ƒè™‘ $1/g_{mb}$ï¼ˆå¦‚æœè¦è€ƒè™‘ $r_O$ï¼Œåˆ™æ›¿æ¢ä¸º $(1/g_{mb})\Vert r_O$ï¼‰

![Figure 6.24 Calculation of source follower input impedance](images/Figure%206.24%20Calculation%20of%20source%20follower%20input%20impedance.png)
å¯ä»¥å¾—åˆ°ï¼š

$$
V_X = \frac{I_X}{C_{GS}s}+\left( I_X + \frac{g_m I_X}{C_{GS} s} \right)\left( \frac{1}{g_{mb}} \Big\Vert \frac{1}{C_L s} \right)\\
\Rightarrow Z_\tx{in} = \frac{1}{C_{GS}s} + \left( 1+\frac{g_m}{C_{GS}s} \right) \frac{1}{g_{mb}+C_L s}
$$

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Miller ç­‰æ•ˆå¾—åˆ°ç±»ä¼¼çš„ç»“æœï¼Œ$A_v=\frac{g_m}{g_m+g_{mb}+C_Ls}$ï¼Œåˆ™ $C_{GS}$ çš„å¼¥å‹’ç­‰æ•ˆä¸ºï¼š

$$
\begin{aligned}
  C_{eq}s &=C_{GS}s(1-A_v)\\
&=C_{GS}s \frac{g_{mb}+C_Ls}{g_m+g_{mb}+C_Ls}
\end{aligned}
$$

ä»è€Œæœ‰ï¼š

$$
Z_\tx{in}=\frac{1}{C_{eq}s}+\left( \frac{1}{g_{mb}} \Big\Vert \frac{1}{C_L s} \right)
$$

æˆ‘ä»¬ç®—ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼š

* $g_{mb}=0$ and $C_L=0$ï¼Œ$Z_\tx{in}=\infty$
* low frequencies, i.e. $g_{mb} \gg \vert C_L s \vert$, $Z_\tx{in} \approx \dfrac{1}{C_{GS}s}(1+\dfrac{g_m}{g_{mb}})+\dfrac{1}{g_{mb}}$$=\dfrac{1}{A_v C_{GS}s}+\dfrac{1}{g_{mb}}$
* high frequencies, i.e. $g_{mb} \ll \vert C_L s \vert$, $Z_\tx{in}\approx \dfrac{1}{C_{GS}s}+\dfrac{1}{C_L s}+\dfrac{g_m}{C_{GS}C_Ls^2}$

æ³¨æ„ï¼Œåœ¨é«˜é¢‘æ—¶ï¼Œè¾“å…¥é˜»æŠ—è¡¨è¾¾å¼ä¸­çš„ç¬¬ä¸‰é¡¹æ˜¯ä¸€ä¸ªè´Ÿé˜»ï¼Œè¿™å¯ä»¥æ‹¿æ¥äº§ç”ŸæŒ¯è¡ï¼ˆChapter 15ï¼‰


---

æ¥ç€æ¥è€ƒè™‘è¾“å‡ºé˜»æŠ—ã€‚ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¿½ç•¥ $\frac{1}{g_{mb}}$ å’Œ $C_L$ï¼ˆåæ­£æœ€åå¹¶è”ä¸Šå»å³å¯ï¼‰ï¼Œè¿˜å¿½ç•¥ $C_{GD}$ï¼ˆä¸ºäº†ç®€åŒ–è®¡ç®—ï¼‰

![Figure 6.28 Calculation of source follower output impedance](images/Figure%206.28%20Calculation%20of%20source%20follower%20output%20impedance.png)
æ ¹æ®ç”µå‹ç”µæµæ–¹ç¨‹ï¼š

$$
V_1 C_{GS} s + g_m V_1 = -I_X\\
V_1 C_{GS} s R_S + V_1 = -V_X
$$

è§£å‡ºï¼š

$$
\begin{aligned}
  Z_\tx{out} &= \frac{V_X}{I_X}\\
  &= \frac{R_S C_{GS} s+1}{C_{GS}s+g_m}
\end{aligned}
$$

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸¤ä¸ªç‰¹æ®Šæƒ…å†µï¼š

* ä½é¢‘ï¼Œ$Z_\tx{out} \approx 1/g_m$
* é«˜é¢‘ï¼Œ$Z_\tx{out}\approx R_S$ï¼ˆ$C_{GS}$ çŸ­è·¯ï¼‰

æ ¹æ® $1/g_m$ å’Œ $R_S$ çš„å¤§å°ï¼Œå­˜åœ¨ä¸¤ç§æƒ…å†µï¼šFig. 6.28b å’Œ Fig. 6.28c. ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsource follwer ä½œä¸º buffer çš„è¾“å‡ºç”µé˜»æ¯”è¾ƒå°ï¼Œæ‰€ä»¥ $1/g_m< R_S$ï¼Œä¹Ÿå°±æ˜¯ Fig. 6.28c çš„æƒ…å†µæ¯”è¾ƒæ™®éã€‚

æ³¨æ„åˆ° Fig. 6.28c ä¸­ï¼Œ$\vert Z_\tx{out}\vert$ éšç€é¢‘ç‡å˜å¤§è€Œå˜å¤§ï¼Œè¯´æ˜å®ƒå±•ç°å‡ºç”µæ„Ÿçš„æ€§è´¨ã€‚æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºç­‰æ•ˆç”µæ„Ÿã€‚æˆ‘ä»¬åˆ©ç”¨ Fig. 6.29 çš„ç­‰æ•ˆæ¨¡å‹ï¼Œæœ‰ï¼š

$$
é«˜é¢‘ï¼šR_1 = R_S-\frac{1}{g_m}\\
ä½é¢‘ï¼šR_2 = \frac{1}{g_m}
$$

ç­‰æ•ˆç”µæ„Ÿä¸ºï¼š

$$
\frac{1}{Z_\tx{out}-\dfrac{1}{g_m}} = \frac{1}{R_S - \dfrac{1}{g_m}} + \frac{1}{\dfrac{C_{GS}s}{g_m}\left( R_S - \dfrac{1}{g_m} \right)}\\
\Rightarrow L = \dfrac{C_{GS}s}{g_m}\left( R_S - \dfrac{1}{g_m} \right) \tag{6.66}
$$

![Figure 6.29 Equivalent output impedance of a source follower](images/Figure%206.29%20Equivalent%20output%20impedance%20of%20a%20source%20follower.png)
æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨åœ¨ç”µè·¯ä¸­å¼•å…¥ç”µæ„Ÿï¼ˆå¦‚ Fig. 6.30ï¼‰

![Figure 6.30](images/Figure%206.30.png)

## Common-Gate Stage

![Figure 6.12 Common-gate stage with parasitic capacitances](images/Figure%206.12%20Common-gate%20stage%20with%20parasitic%20capacitances.jpg)
At node $X$, the pole frequency is:

$$
\omega_\tx{in} = \left[ (C_{GS}+C_{SB})\left( R_S \Big \Vert\frac{1}{g_m+g_{mb}} \right) \right]^{-1}
$$

At node $Y$, $C_D=C_{DG}+C_{DB}$, the pole frequency is:

$$
\omega_\tx{out} = [(C_{DG}+C_{DB})R_D]^{-1}
$$

![Figure 6.31 Common-gate stage at high frequencies](images/Figure%206.31%20Common-gate%20stage%20at%20high%20frequencies.png)
ä»è€Œä¼ è¾“å‡½æ•°ä¸ºï¼š

$$
\begin{aligned}
\frac{V_\tx{out}}{V_\tx{in}}(s) &= \frac{(g_m+g_{mb})R_D}{1+(g_m+g_{mb})R_S}\cdot \frac{1}{\left( 1+\dfrac{s}{\omega_\tx{in}} \right)\left( 1+\dfrac{s}{\omega_\tx{out}} \right)}\\
&= \frac{(g_m+g_{mb})R_D}{1+(g_m+g_{mb})R_S}\cdot \frac{1}{\left( 1+ \dfrac{C_Ss}{g_m+g_{mb}+R_S^{-1}} \right)(1+R_D C_D s)}
\end{aligned}
$$

å‰é¢é‚£ç©æ„æ˜¯å¿½ç•¥ $r_O$ çš„ $A_v=\dfrac{[1+(g_m+g_{mb})r_O]R_D}{r_O+[1+(g_m+g_{mb})r_O]R_S+R_D}$ ã€‚å¦å¤–ï¼Œ$C_S=C_{GS}+C_{SB}$ï¼Œ$C_DC_{DG}+C_{DB}$

An important property of this circuit is that it exhibits no Miller multiplication of capacitances, potentially achieving a wide band.

---

ä¸‹é¢æˆ‘ä»¬æ¥ç®€å•ç®—ä¸€ä¸‹è¾“å…¥é˜»æŠ—ï¼Œæˆ‘ä»¬ç›´æ¥å°†ç¬¬ä¸‰ç« çš„å…¬å¼æ”¹é€ ä¸€ä¸‹ï¼š

$$
Z_\tx{in} \approx \frac{Z_L}{(g_m+g_{mb})r_O}+\frac{1}{g_m+g_{mb}} \tag{6.69}\\
Z_L = R_D \Vert [1+(C_D s)]
$$

---

æˆ‘ä»¬æ²¡æœ‰è€ƒè™‘åˆ°ä¸€ç‚¹ï¼Œå°±æ˜¯åç½®ä¹Ÿæœ‰å¯èƒ½å¸¦æ¥çš„ç”µé˜» $R_G$ï¼Œä¸ºäº†ç®€åŒ–åˆ†æï¼Œåªè€ƒè™‘ä¸€ä¸ªç”µå®¹ $C_{GS}$ï¼Œå¹¶ä¸”å¿½ç•¥ channel length modulation å’Œ body effect.

![Figure 6.33 (a) CG stage with resistance in series with gate, and (b) equivalent circuit](images/Figure%206.33%20(a)%20CG%20stage%20with%20resistance%20in%20series%20with%20gate,%20and%20(b)%20equivalent%20circuit.png)
ç”± VCLï¼š

$$
V_\tx{in}+(C_{GS}sV_1+g_m V_1) R_S+V_1+C_{GS}sV_1 R_S=0
$$

å…¶ä¸­ï¼Œ$g_m V_1=-V_\tx{out}/R_D$ï¼Œæ‰€ä»¥

$$
\begin{aligned}
\frac{V_\tx{out}}{V_\tx{in}}(s) &= \frac{g_m R_D}{(R_G+R_S)C_{GS}s+1+g_m R_S}\\
&= \frac{g_mR_D}{1+g_m R_S} \frac{1}{1+\frac{(R_G+R_S)C_{GS}}{1+g_m R_S}s}
\end{aligned}
$$

ä»è€Œæç‚¹ä¸ºï¼š

$$
\omega_p = \frac{1+g_m R_S}{(R_G+R_S)C_{GS}}
$$

å¯¹æ¯”ä¸€ä¸‹ä¹‹å‰çš„æç‚¹ï¼ˆ$\omega_\tx{in} = \left[ (C_{GS}+C_{SB})\left( R_S \Big \Vert\dfrac{1}{g_m+g_{mb}} \right) \right]^{-1}$ï¼‰ï¼Œæˆ‘ä»¬å‘ç° $R_G$ åªæ˜¯ç®€å•åœ°åŠ åˆ° $R_S$ ä¸Šã€‚



## Cascode Stage

![Figure 6.34 High-frequency model of a cascode stage](images/Figure%206.34%20High-frequency%20model%20of%20a%20cascode%20stage.png)
é¦–å…ˆï¼Œåˆ©ç”¨ Miller Approx. å°† $C_{GD1}$ è½¬æ¢åˆ° $A$ ç«¯ï¼Œæˆ‘ä»¬æœ‰ï¼š

$$
\omega_{p,A} = \frac{1}{R_S \left[ C_{GS1}+\left( 1+\dfrac{g_{m1}}{g_{m2}+g_{mb2}} \right)C_{GD1} \right]}
$$

è€Œåœ¨ $X$ ç«¯ï¼Œæœ‰ï¼š

$$
\omega_{p,Y} = \frac{g_{m2}+g_{mb2}}{2C_{GD1}+C_{DB1}+C_{SB2}+C_{GS2}}
$$

å¼ä¸­çš„ $2$ æ¥è‡ªäº $(1+\dfrac{g_{m2}+g_{mb2}}{g_{m1}})$ ï¼ˆæˆ‘ä»¬å‡è®¾è¿™ä¸¤ä¸ªç®¡å­ç›¸ä¼¼ï¼‰

è€Œåœ¨ $Y$ ç«¯ï¼Œæœ‰ï¼š

$$
\omega_{p,Y} = \frac{1}{R_D(C_{DB2}+C_L+C_{GD2})}
$$
---

ï¼ˆç„¶åä¹¦æœ¬å°±çªç„¶è·³åˆ°äº† â€œæŠŠ $R_D$æ¢æˆç”µæµæºâ€ï¼Œç„¶åæ²¡ä»»ä½•æ¨å¯¼ï¼Œå°±å¾—åˆ°ä¸‹é¢çš„ä¸€äº›ç»“è®ºğŸ˜“ï¼‰

If a cascode structure is used as a current source, then the variation of its output impedance with frequency is of interest. Neglecting $C_{GD1}$ and $C_Y$ in Fig. 6.35(a), we have

$$
Z_\tx{out} = (1+g_{m2}r_{O2})Z_X+r_{O2}
$$

where $Z_X=r_{O1}\Vert (C_Xs)^{-1}$. Thus, $Z_\tx{out}$ contains a pole at $(r_{O1}C_X)^{âˆ’1}$ and falls at frequencies higher than this value.


## Differential Pair

### ç®€å•è®¨è®º

![Figure 6.36 (a) Differential pair; (b) half-circuit equivalent; (c) equivalent circuit for common-mode inputs](images/Figure%206.36%20(a)%20Differential%20pair;%20(b)%20half-circuit%20equivalent;%20(c)%20equivalent%20circuit%20for%20common-mode%20inputs.jpg)
å·®åˆ†å¯¹çš„ä¼ è¾“å‡½æ•°ã€æç‚¹å’Œå…±æºå·®ä¸å¤šã€‚æˆ‘ä»¬å…ˆæ¥è®¨è®ºä¸€ä¸‹å…±æ¨¡å¢ç›Šï¼Œè¿˜è®°å¾—åœ¨ç¬¬å››ç« ï¼Œæˆ‘ä»¬æœ‰ï¼š

$$
A_\tx{CM-DM} = -\frac{\Delta g_m R_D}{(g_{m1}+g_{m2})R_{SS}+1}
$$

æˆ‘ä»¬åšç®€å•çš„æ›¿æ¢ï¼š$R_D\rightarrow R_D\Vert \dfrac{1}{C_Ls}$ï¼Œ$R_{SS}\rightarrow r_{O3}\Vert \dfrac{1}{C_ps}$ï¼Œä»è€Œï¼š

$$
A_\tx{CM-DM} = -\frac{\Delta g_m \left(R_D\Vert \dfrac{1}{C_Ls}\right)}{(g_{m1}+g_{m2})\left(r_{O3}\Vert \dfrac{1}{C_ps}\right)+1} \tag{6.88}
$$

ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªå€¼å°äº $1$ï¼Œä½†éšç€é¢‘ç‡å¢å¤§ï¼Œå®ƒä¼šè¶‹å‘äº $1$ï¼ŒThis result suggests that the common-mode rejection of the circuit degrades considerably at high frequencies.

æˆ‘ä»¬ç”¨åŒæ ·çš„æ–¹æ³•ï¼ˆå°±æ˜¯ç®€å•çš„æ›¿æ¢ï¼‰æ¥è®¡ç®—å…±æ¨¡æŠ‘åˆ¶æ¯”ï¼š

$$
\tx{CMRR}\approx \frac{g_m}{\Delta g_m}(1+2g_m R_{SS})\\
\Downarrow\\
\begin{aligned}
  \tx{CMRR}&\approx \frac{g_m}{\Delta g_m}\left[ 1+2g_m \left( r_{O3}\Vert\frac{1}{C_p s} \right) \right]\\
  &= \frac{g_m}{\Delta g_m} \frac{r_{O3}C_p s+1+2g_mr_{O3}}{r_{O3}C_p s+1}
\end{aligned}
$$

ä»¥é˜²ä½ å¿˜äº†ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹ï¼š$g_m=\frac{g_{m1}+g_{m2}}{2}$ï¼Œ$\Delta g_m=g_{m1}-g_{m2}$

æˆ‘ä»¬å¯ä»¥ç”»å‡º CMRR çš„ bode å›¾ï¼š

![Figure 6.37 CMRR  for  a  differential pair vs. frequency](images/Figure%206.37%20CMRR%20%20for%20%20a%20%20differential%20pair%20vs.%20frequency.jpg)
### Differential Pair with Active Load

![Figure 6.41(a) Simplified high-frequency model of differential pair with active current mirror; (b) circuit of(a) with a Thevenin equivalent](images/Figure%206.41(a)%20Simplified%20high-frequency%20model%20of%20differential%20pair%20with%20active%20current%20mirror;%20(b)%20circuit%20of(a)%20with%20a%20Thevenin%20equivalent.jpg)
è¾“å…¥ä¿¡å·ä¸€è·¯é€šè¿‡ $M_3,M_4$ åˆ°è¾“å‡ºï¼Œå¦ä¸€è·¯åˆ™é€šè¿‡ $M_2$ åˆ°è¾“å‡ºã€‚æˆ‘ä»¬å…ˆæ¥è®¨è®ºå‰è€…ã€‚

å‰è€…åœ¨ $E$ å¤„ä¼šæœ‰ä¸€ä¸ªæç‚¹ï¼š$g_{m3}/C_E$ï¼Œå…¶ä¸­ï¼Œ$C_E$ åŒ…å« $C_{GS3},C_{GS4},C_{DB3},C_{DB1}$ ä»¥åŠ Miller effect of $C_{GD1},C_{GD4}$ã€‚è¿™ä¸ªæç‚¹ç§°ä¸º **mirror pole**

ä¸ºäº†ç®€åŒ–åˆ†æï¼Œæˆ‘ä»¬åˆ©ç”¨ Thevenin equivalent ç®€åŒ–å¾—åˆ° Fig. 6.41cã€‚å…¶ä¸­ï¼Œ$V_X=g_{mN}r_{ON}V_\tx{in}$ï¼Œ$R_X=2r_{ON}$ï¼ˆè¿™ä¸ªå°±ä¸è¯¦ç»†è§£é‡Šäº†ï¼Œå·²ç»åœ¨å·®åˆ†æ”¾å¤§å™¨ä¸€èŠ‚è®²è¿‡äº†ï¼‰ï¼Œå¦å¤–ï¼Œæˆ‘ä»¬è¿˜å¿½ç•¥äº† $r_{OP}$ï¼Œå› ä¸ºä¸€èˆ¬ $1/g_{mP}\ll r_{OP}$

æˆ‘ä»¬å…ˆè®¡ç®— $V_E$ å¤„çš„ç”µå‹ï¼š

$$
\begin{aligned}
  V_E &= (V_\tx{out}-V_{X})\frac{\dfrac{1}{C_E s+ g_{mP}}}{\dfrac{1}{C_E s+g_{mP}}+R_X}\\
  &=\frac{V_\tx{out}-V_{X}}{1+R_X(C_E s+g_{mP})}
\end{aligned}
$$

ä»è€Œ $M_4$ çš„ç”µæµä¸º $g_{mP}V_E$ï¼Œå¦å¤– $I_X=V_E(g_{mP}+C_Es)$ã€‚æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ KCL è®¡ç®—å‡ºå¢ç›Šï¼š

<!-- $$
-g_{mP} V_E - I_X = V_\tx{out}(C_L s+r_{OP}^{-1})\\
(-2g_{mP}-C_Es)(V_\tx{out}-V_{X})=V_\tx{out}(C_L s+r_{OP}^{-1})[1+R_X(C_E s+g_{mP})]\\
(-2g_{mP}-C_Es)g_{mN}r_{ON}V_\tx{in}=V_\tx{out} \left\{ (C_L s+r_{OP}^{-1})[1+2r_{ON}(C_E s+g_{mP})]+(2g_{mP}+r_{OP}^{-1}) \right\}
$$ -->

$$
I_X = \frac{V_\tx{out}-V_X}{R_X+\dfrac{1}{C_E s+g_{mP}}}\\
-g_{mP}V_E-I_X = V_\tx{out}(C_Ls+r_{OP}^{-1})
$$

æœ€ç»ˆç»“æœä¸ºï¼š

$$
\frac{V_\tx{out}}{V_\tx{in}} = \frac{g_{mN}r_{ON}(2g_{mP}+C_Es)r_{OP}}{2r_{OP}r_{ON}C_EC_Ls^2+[(2r_{ON}+r_{OP})C_E+r_{OP}(1+2g_{mP}r_{ON})C_L]s+2g_{mP}(r_{ON}+r_{OP})+1}\\
è¯¾æœ¬ä¸­çš„å…¬å¼ç¼ºäº†ä¸€ä¸ª +1
$$

$$
\vert A_v \vert =  g_{mN}(r_{ON}\Vert r_{OP}) \frac{2g_{mP}r_{OP}+1}{2(g_{mP}r_{OP}+1)}
$$

æˆ‘ä»¬è¿˜æ˜¯å‡è®¾ $\omega_{p1}\ll\omega_{p2}$ï¼Œè¿™æ ·æˆ‘ä»¬å°±æœ‰ï¼š

$$
\omega_{p1}\approx \frac{1+2g_{mP}(r_{ON}+r_{OP})}{(2r_{ON}+r_{OP})C_E+r_{OP}(1+2g_{mP}r_{ON})C_L}
$$

Neglecting the first term in the denominator and assuming that $2g_{mP}r_{ON}\gg 1$, we have

$$
\omega_{p1}\approx \frac{1}{(r_{ON}\Vert r_{OP})C_L}
$$

è¿™ä¸ªå°±æ˜¯åœ¨ $V_\tx{out}$ å¤„çš„æç‚¹ã€‚

å¦å¤–æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡º $\omega_{p2}$

$$
\begin{aligned}
  \omega_{p2} &= \frac{2g_{mP}(r_{ON}+r_{OP})}{2r_{OP}r_{ON}C_EC_L} \big/ \omega_{p1}\\
  &\approx \frac{2g_{mP}(r_{ON}+r_{OP})}{2r_{OP}r_{ON}C_EC_L} \frac{r_{ON}r_{OP}C_L}{r_{ON}+r_{OP}}\\
  &= \frac{g_{mP}}{C_E}
\end{aligned}
$$

è¿™ä¸ªå°±æ˜¯åœ¨ $E$ ç‚¹å¤„çš„æç‚¹ã€‚

é›¶ç‚¹ä¸º

$$
\omega_{z} = \frac{2g_{mP}}{C_E}
$$

æ°å¥½æ˜¯ä¸¤å€çš„ $\omega_{p2}$ï¼Œè¿™ä¸ªç»“æœå¯ä»¥ç”¨ä¸‹é¢çš„æ•°å­¦æ¨¡å‹æ¥è®ºè¯ã€‚

> [!TIP]
> æˆ‘ä»¬å¯¹è¿™ä¸ªé›¶ç‚¹åšä¸€ä¸ªç®€å•çš„å»ºæ¨¡ã€‚å‰é¢æè¿‡ä¿¡å·é€šè¿‡ä¸¤è·¯åˆ°è¾“å‡ºï¼Œå…¶ä¸­ $M_1,M_2,M_4$ ä¸€è·¯çš„å¢ç›Šä¸ºï¼š$A_0/[(1+s/\omega_{p1})(1+s/\omega_{p2})]$ï¼Œå¦å¤– $M_1,M_2$ ä¸€è·¯ä¸º $A_0/(1+s/\omega_{p1})$ï¼Œå°†è¿™ä¸¤è·¯ç›¸åŠ ï¼Œå¾—åˆ°ï¼š<br>
> 
> $$
\begin{aligned}
  \frac{V_\tx{out}}{V_\tx{in}} &= \frac{A_0}{(1+s/\omega_{p1})(1+s/\omega_{p2})}+\frac{A_0}{(1+s/\omega_{p1})}\\
  &= \frac{A_0(2+s/\omega_{p2})}{(1+s/\omega_{p1})(1+s/\omega_{p2})}
\end{aligned}
$$<br>
> 
> æ³¨æ„åˆ°é›¶ç‚¹æ°å¥½æ˜¯ä¸¤å€çš„ $\omega_{p2}$

## Appendix

ä¹¦æœ¬çš„æœ€åä»‹ç»äº†å‡ ç§å¾ˆå®ç”¨çš„å®šç†ï¼Œå¯¹ç†è§£ã€è®°å¿†ä¹‹å‰çš„å…¬å¼æœ‰å¾ˆå¤§å¸®åŠ©ã€‚

### Extra Element Theorem

é™„åŠ å…ƒä»¶å®šç†ï¼ˆEETï¼‰ï¼šè‹¥åŸæœ¬çš„ä¼ è¾“å‡½æ•°ä¸º $H(s)$ï¼Œåœ¨ç”µè·¯ä¸­ Aã€B å¤„åŠ å…¥ä¸€ä¸ªå…ƒä»¶ $Z_1$ï¼Œåˆ™æ–°çš„ä¼ è¾“å‡½æ•°ä¸ºï¼š

$$
G(s) = H(s) \frac{1+\dfrac{Z_\tx{out,0}}{Z_1}}{1+\dfrac{Z_\tx{in,0}}{Z_1}}
$$

* $Z_\tx{out,0}$ï¼šåœ¨ AB ç«¯åŠ ä¸Šç”µå‹ç”µæµï¼Œå¹¶åœ¨ $V_\tx{in}$ åŠ ä¸Šç”µå‹ä½¿å¾— $V_\tx{out}=0$ï¼Œæ­¤æ—¶ $Z_\tx{out,0}=V_1/I_1$
* $Z_\tx{in,0}$ï¼šå°†è¾“å…¥çŸ­è·¯ï¼Œæ­¤æ—¶ $Z_\tx{in,0}=V_1/I_1$

![Figure 6.46 (a) Circuit with extra parallel element, Z1, (b) Zout,0 calculation, and (c) Zin,0 calculation](images/Figure%206.46%20(a)%20Circuit%20with%20extra%20parallel%20element,%20Z1,%20(b)%20Zout,0%20calculation,%20and%20(c)%20Zin,0%20calculation.jpg)
æˆ‘ä»¬åœ¨æ­¤å¹¶ä¸è¯æ˜è¯¥å®šç†ï¼Œå› ä¸ºçŸ¥é“äº†è¯æ˜è¿‡ç¨‹ä¹Ÿæ²¡ä»€ä¹ˆç”¨ã€‚åœ¨æ­¤æˆ‘ä»¬ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ï¼Œæ¥å±•ç¤ºè¿™ä¸ªå®šç†æ˜¯æ€æ ·ç®€åŒ–è®¡ç®—çš„ã€‚

> [!TIP]
> Using the EET, find the transfer function of the circuit in Fig. 6.47(a)<br>
> ![Figure 6.47](images/Figure%206.47.jpg)
> [!NOTE]
> æˆ‘ä»¬å…ˆæ¥è®¡ç®— $V_\tx{out,0}$ï¼ˆFig. 6.46bï¼‰ã€‚è€ƒè™‘åˆ°è¾“å‡ºä¸º 0ï¼Œå¯ä»¥çœ‹ä½œæ¥åœ°ï¼ˆä½†ä¸æ˜¯çœŸçš„æ¥åœ°ï¼‰ï¼Œåˆ™ $V_1=V_{GS}$ã€‚è€Œ $I_1=-g_m V_{GS}=-g_m V_1$ï¼Œä»è€Œ $V_\tx{out,0}=-\frac{1}{g_m}$<br>
> å†æ¥è€ƒè™‘ $V_\tx{in,0}$ï¼ˆFig. 6.46cï¼‰ã€‚æˆ‘ä»¬å®¹æ˜“åˆ—å‡ºå¦‚ä¸‹ KVL æ–¹ç¨‹<br>
> 
> $$
V_A + V_1 + V_{R_D} = 0\\
g_m I_1 R_S -V_1+(I_1+I_1 R_Dg_m) R_S=0\\
\Downarrow\\
Z_\tx{in,0} = (1+g_m R_S) R_D+R_S=(1+g_m R_D)R_S+R_D
$$<br>
> 
> ä»è€Œä¼ è¾“å‡½æ•°ä¸ºï¼š<br>
> 
> $$
G(s) = -g_m(R_D\Vert r_O) \frac{1-\dfrac{1}{g_m}C_F s}{1+[(1+g_m R_D)R_S+R_D]C_F s}
$$<br>
> 
> æ³¨æ„åˆ°è¿™é‡Œæ­£ç¡®åœ°ç»™å‡ºäº†é›¶ç‚¹ã€‚

### Zero-Value Time Constant Method

å¦‚æœæˆ‘ä»¬åªæƒ³è€ƒè™‘é›¶ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦è€ƒè™‘ EET ä¸­çš„ $Z_\tx{in,0}$ å³å¯ï¼Œé‚£ä¹ˆå…¬å¼å°±ä¼šå˜ä¸ºï¼š

$$
G(s)=H(s) \frac{1}{1+\dfrac{Z_\tx{in,0}}{Z_1}}
$$

æ³¨æ„åˆ°å½“ $Z_1$ æ˜¯ä¸€ä¸ªç”µå®¹æ—¶ï¼Œä¼šå¼•å…¥ä¸€ä¸ª $Z_\tx{in,0}C_1$ çš„æç‚¹ã€‚åˆ©ç”¨è¿™ä¸ªï¼Œæˆ‘ä»¬å°†æç‚¹çš„è®¡ç®—è¿‡ç¨‹ç®€åŒ–å¦‚ä¸‹ï¼š

1. è®¡ç®—å½“è¾“å…¥çŸ­è·¯æ—¶ï¼Œä» $C_1$ çœ‹è¿›å»çš„ç”µé˜» $R_1$ï¼ˆFig. 6.49ï¼‰
2. æç‚¹ä¸º $1/(R_1C_1)$

![Figure 6.49 (a) General circuit containing one capacitor, and (b) resistance seen by C1](images/Figure%206.49%20(a)%20General%20circuit%20containing%20one%20capacitor,%20and%20(b)%20resistance%20seen%20by%20C1.jpg)
ä½†è¿™è¿˜æ²¡å®Œï¼Œå¯¹äºå¤šä¸ªç”µå®¹ï¼Œæˆ‘ä»¬æœ‰ï¼š

$$
G(s)=H(s) \prod_i \frac{1}{1+R_iC_i}
$$

æ­¤æ—¶ä¸€æ¬¡é¡¹çš„ç³»æ•°ä¸º $\sum_i (R_iC_i)$ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤ä¼°ç®—ä¸»æç‚¹ï¼š

1. å°† $C_i$ ä¹‹å¤–çš„å…¶ä»–ç”µå®¹ç½®é›¶ï¼ˆå¼€è·¯ï¼‰
2. æŒ‰ç…§ä¸Šé¢æ­¥éª¤è®¡ç®— $R_i$
3. ä¸»æç‚¹ä¸º $1/(\sum_i R_i C_i)$

åˆ©ç”¨è¿™ä¸ªæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®¡ç®—å‡ºå…±æºçº§çš„ä¸»æç‚¹ã€‚æ¥è¯•è¯•çœ‹å§ï¼ä¸‹é¢æˆ‘ä»¬é‡æ–°è®¡ç®—ä¸€ä¸‹å…±æºçš„ä¸»æç‚¹ã€‚

![Figure 6.15 Equivalent circuit of Fig. 6.13](images/Figure%206.15%20Equivalent%20circuit%20of%20Fig.%206.13.jpg)
1. è®¡ç®— $C_{GS}$ çš„ç”µé˜» $R_{GS}$ï¼šç”±äº $C_{GD}$ è¢«ç½®é›¶ï¼Œæ‰€ä»¥ $R_{GS}=R_S$
2. è®¡ç®— $C_{GD}$ çš„ç”µé˜» $R_{GD}$ï¼šæ ¹æ® KVL

$$
V_X = -I_{GD} R_S\\
-I_{GD}R_S+V_{DG}=(I_{GD}-g_m V_X) R_D\\
\Downarrow\\
R_{GD}=\frac{V_{DG}}{I_{GD}}=(1+g_mR_S)R_D+R_S\\
=(1+g_m R_D)R_S+R_D\\
è¾“å…¥ç”µé˜»çš„ç”µæµç”µå‹æ–¹å‘ä¸ä¸€è‡´ã€‚
$$

3. è®¡ç®— $C_{DB}$ çš„ç”µé˜» $R_{DB}$ï¼šåŒç†ï¼Œç”±äº $C_{GD}$ è¢«ç½®é›¶ï¼Œæ‰€ä»¥ $R_{DB}=R_D$

ä»è€Œæç‚¹ä¸ºï¼š

$$
\omega_{-3\tx{dB}}^{-1}=R_S C_{GS}+[(1+g_m R_D)R_S+R_D]C_{GD}+R_DC_{DB}\\
=R_SC_{GS}+R_S(1+g_mR_D)C_{GS}+R_D(C_GD+C_{DB})
$$

è¿™å’Œæˆ‘ä»¬ä¹‹å‰è´¹è€å¤§åŠ²ç®—çš„æ˜¯ä¸€æ ·çš„å“¦ï¼